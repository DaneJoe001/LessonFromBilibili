# C++ STL 容器与迭代器使用笔记

## 1. 迭代器模式
- 迭代器是一种用于遍历容器元素的工具。通过定义开始和结束迭代器，可以遍历容器中的所有元素并进行操作。

## 2. 容器与基本操作
- C++ STL 的五大组件包括：容器、迭代器、算法、指针和分配器。容器是用来存储数据的对象，迭代器用于访问和操作这些数据。

### 2.1 检查容器
- 在使用容器之前，可以定义并初始化容器，以便之后进行各种操作。

### 2.2 容器构建与基本操作
- 容器可以通过指定大小进行初始化，默认情况下，数值类型的元素会被初始化为0。使用 `at()` 方法可以安全地访问元素并检查越界，而 `operator[]` 不会进行越界检查，可能导致程序崩溃。

- 容器的大小可以通过 `resize()` 方法进行调整，可以扩大或缩小容器的大小。使用 `push_back()` 方法可以向容器添加元素，使用 `pop_back()` 方法可以删除最后一个元素。

- 可以通过 `back()` 和 `front()` 方法访问容器的最后一个和第一个元素。使用指针可以避免不必要的拷贝。

- `capacity()` 方法用于获取容器的容量，`shrink_to_fit()` 方法可以释放多余的内存，可能会导致原有数据失效。

- `reserve()` 方法用于预留一定的内存容量，增加容器的容量而不改变其大小。

- 迭代器可以用于切片操作，允许对容器的部分元素进行操作。

- 插入操作可以通过 `insert()` 方法完成，可以插入单个元素、多个相同元素或来自其他容器的元素。

- 使用 `assign()` 方法可以覆盖容器中的现有元素，而不会重新分配内存。

- `erase()` 方法用于删除指定位置的元素，删除后会移动后面的元素，因此其时间复杂度为 O(n)。

## 3. 重要概念与注意事项
### 3.1 越界访问
- 使用 `operator[]` 访问元素时，不会检查越界，可能导致程序崩溃。建议使用 `at()` 方法来安全访问元素。

### 3.2 容器内存管理
- `clear()` 方法可以清空容器中的元素，但不会释放内存。`resize()` 方法会改变容器的大小，可能导致指向原有数据的指针失效。`reserve()` 方法仅预留内存，不会改变容器的大小。`shrink_to_fit()` 方法用于释放多余的内存，可能导致指针和迭代器失效。

### 3.3 迭代器失效
- 插入或删除操作后，原有的迭代器可能会失效，需要重新获取有效的迭代器。

### 3.4 使用 `assign()`
- `assign()` 方法可以用来覆盖现有元素，但不会重新分配内存。

## 4. 总结
- C++ STL 提供了强大的容器和算法支持。在使用容器时，需要注意内存管理、越界访问和迭代器失效等问题，以确保程序的稳定性和高效性。